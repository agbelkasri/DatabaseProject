<!-- do not change the markup -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
</body>
</html>
</DOCTYPE>

<!DOCTYPE html>
<html>
<title>Create a Task</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
  
<body style = "background-color: lavender">


.century {
	font-family: "Century Gothic";
}
  
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif;}
body, html {
  height: 100%;
  color: #777;
  line-height: 1.8;
}

/* Create a Parallax Effect */
.bgimg-1, .bgimg-2, .bgimg-3 {
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

/* First image (Logo. Full height) */
.bgimg-1 {
  background-image: url('background.gif');
  min-height: 100%;
}

/* Second image (Portfolio) */
.bgimg-2 {
  background-image: url("/w3images/parallax2.jpg");
  min-height: 400px;
}

.bgimg-3 {
  background-image: url("/w3images/parallax3.jpg");
  min-height: 400px;
}

.w3-wide {letter-spacing: 10px;}
.w3-hover-opacity {cursor: pointer;}

@media only screen and (max-device-width: 1600px) {
  .bgimg-1, .bgimg-2, .bgimg-3 {
    background-attachment: scroll;
    min-height: 400px;
  }
}
</style>
<body>

<!-- Navbar  -->
<div class="w3-top">
  <div class="w3-bar" id="myNavbar">
    <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-center" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
      <i class="fa fa-bars"></i>
    </a>
    <a href="#home" class="w3-bar-item w3-button">HOME</a>
    <a href="authorspage.html" class="w3-bar-item w3-button w3-hide-small"><i class="fa"></i> AUTHORS</a>
    <a href="database.html" class="w3-bar-item w3-button w3-hide-small"><i class="fa"></i> CREATE TASK</a>
    <div class="w3-dropdown-hover">
    <button class="w3-button">VIEW TASKS</button>
      <div class="w3-dropdown-content w3-bar-block w3-card-4">
        <a href="#" class="w3-bar-item w3-button">DUE-TODAY</a>
        <a href="#" class="w3-bar-item w3-button">DUE-TOMORROW</a>
        <a href="#" class="w3-bar-item w3-button">DUE IN 7 DAYS</a>
      </div>
    </div>
    <a href="database.html" class="w3-bar-item w3-button w3-hide-small"><i class="fa"></i>WEEKLY REPORTS</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-right w3-hover-red">
      <i class="fa fa-search"></i>
    </a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium">
    <a href="#about" class="w3-bar-item w3-button" onclick="toggleFunction()">AUTHORS</a>
    <a href="#" class="w3-bar-item w3-button">SEARCH</a>
  </div>
</div>
<br><br>
<div class=" w3-display-container w3-padding-64 w3-opacity-min" id="title">
  <div class="w3-display-middle" style="white-space:nowrap;">
    <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity"> CREATE A TASK </span>
  </div>
</div>
  
 




<body style = "background-color: lavender">

<style>
.century {
	font-family: "Century Gothic";
}


body, html {
    height: 100%;
    margin: 0;
}

.hero-text {
  text-align: center;
  color: black;
}

.hero-text button {
  border: none;
  outline: 0;
  display: inline-block;
  padding: 10px 25px;
  color: black;
  background-color: #ddd;
  text-align: center;
  cursor: pointer;
}

.hero-text button:hover {
  background-color: #555;
  color: white;

}


</style>


<head>
  
  <meta charset="UTF-8">
  
  <!-- jQuery link -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js">
  </script>  

  <!-- Declare and store seats array -->
  <script type="text/javascript">
    "use strict";
    
    // Declare arrays
    var events;
    var seats;

    //================================================================
    // loadEvents
    //================================================================
    function loadEvents()
    {
      $(function()
      {    
        var queryString = "request=get";
        $.getJSON(
          "CrislerArena-Events.json", 
          queryString, 
          loadEventsResponse);
      });
    }
    
    //================================================================
    // loadEventsResponse
    //================================================================
    function loadEventsResponse(data, status)
    {
      events = data;
      console.log("Events data retrieved.");
      setSeats();
    }

    //================================================================
    // loadSeats
    //================================================================
    function loadSeats()
    {
      $(function()
      {    
        var queryString = "request=get";
        $.getJSON(
          "CrislerArena-Seats.json", 
          queryString, 
          loadSeatsResponse);
      });
    }
    
    //================================================================
    // loadSeatsResponse
    //================================================================
    function loadSeatsResponse(data, status)
    {
      seats = data;
      console.log("Seats data retrieved.");
      loadEvents();
    }

    //================================================================
    // seatTypeSelected
    //================================================================
    function seatTypeSelected()
    {
      
      // Get seat cost
      var selection = 
        document.querySelector('input[name="rgSeatType"]:checked').value;
      var index = 0;
      while (index < seats.length && seats[index][0] != selection)
        index = index + 1;

      // Declare variables
      var seatCost = seats[index][1];
      var subtotal = txtTickets.value * seatCost;
      var tax = subtotal * 0.06;
      var total = subtotal + tax;
      
      // Set text boxes
      txtSeatCost.value = seatCost.toFixed(2);
      txtSubtotal.value = subtotal.toFixed(2);
      txtTax.value = tax.toFixed(2);
      txtTotal.value = total.toFixed(2);
     
      console.log("Radio button " + selection + 
        " (" + index + ") selected.");
        
    }

    //================================================================
    // setEvents
    //================================================================
    function setEvents()
    {
    
      // Declare variables
      var i;
      var op;
      var tx;

      // Loop through events array to build combo box
      for (i = 0; i < events.length; i++)
      {
              
        // Create option and add to combo box
        op = document.createElement("option");
        op.setAttribute("value", events[i][0]);
        tx = document.createTextNode(events[i][0]);
        op.appendChild(tx);                                
        cmbEvent.appendChild(op);
        console.log("Option '" + events[i][0] + ", " + 
          events[i][1] + "' added.");

      }
      console.log("Events combo box set.");
      seatTypeSelected();
        
    }

    //================================================================
    // setSeats
    //================================================================
    function setSeats()
    {

      // Declare variables
      var i;
      var inp;
      var tx;

      // Loop through events array to build combo box
      for (i = 0; i < seats.length; i++)
      {
              
        // Create radio button and add to radio group
        inp = document.createElement("input");
        inp.setAttribute("type", "radio");
        inp.setAttribute("name", "rgSeatType");
        inp.setAttribute("value", seats[i][0]);
        inp.setAttribute("onchange", "seatTypeSelected()");
        if (i == 0)
          inp.setAttribute("checked", true);
        divSeatType.appendChild(inp);
        tx = document.createTextNode(seats[i][0]);
        divSeatType.appendChild(tx);                                
        inp = document.createElement("br");
        divSeatType.appendChild(inp);                                
        console.log("Radio button '" + seats[i][0] + ", " + 
          seats[i][1] + "' added.");

      }
      console.log("Seat radio buttons set.");
      setEvents();
        
    }

    function updateTicketSales()
    {
      $(function()
      {    
        var queryString = "request=add";
        $.getJSON(
          "CrislerArena-Seats.json", 
          queryString, 
          loadSeatsResponse);
      });
    }

  </script>
  
</head>
 
<body onload="loadSeats()">


  
  <!-- Left panel -->
  <div class=" w3-margin contentPanel3">
  
    <!-- Form -->
    <form 
      method="get" 
      enctype="application/x-www-form-urlencoded"
      action="CrislerArena-TicketsConfirmation.php" 
      action="DatabaseInterface.php"
      >

      <!-- Customer name and e-mail -->
      <label>Task Description:</label>
      <input type="text" name="txtCustomerName" required>
      <br><br>
      <label>Take Category:</label>
      <input type="email" name="txtCustomerEmail" required>
      <br><br>

      <!-- Event name and date -->
      <label>Status:</label>
      <select id="cmbEvent" name="cmbEvent">
      </select> 
      <br><br>
      
      <label>Due Date:</label>
      <input type="date" name="txtDate" value="2021-05-10" required>
      <br><br>

      <!-- Ticket count -->
      <label>Priority Level (1-4):</label>
      <input 
        type="number" name="txtTickets" id="txtTickets" value="2" 
        min="1" step="1" max="4" required
        onchange="seatTypeSelected()" 
        >
      <br><br>

      <!-- Form buttons -->
      <input type="submit" value="Submit" class="formButton" onsubmit="updateTicketSales()" >
      <input type="reset" value="Reset" class="formButton">

    </form>

  </div>

  <!-- Right panel -->
  <div class="contentPanel3">
  


 
<script>
// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
  var captionText = document.getElementById("caption");
  captionText.innerHTML = element.alt;
}

// Change style of navbar on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
    var navbar = document.getElementById("myNavbar");
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        navbar.className = "w3-bar" + " w3-card" + " w3-animate-top" + " w3-white";
    } else {
        navbar.className = navbar.className.replace(" w3-card w3-animate-top w3-white", "");
    }
}

// Used to toggle the menu on small screens when clicking on the menu button
function toggleFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>

</body>
</html>

